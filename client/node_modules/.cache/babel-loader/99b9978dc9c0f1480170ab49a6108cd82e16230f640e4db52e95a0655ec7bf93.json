{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst localHost = process.env.REACT_APP_LOCAL_HOST;\nexport const getLocalStorage = () => {\n  const notes = localStorage.getItem(\"notes\");\n  return notes ? JSON.parse(notes) : [];\n};\nexport const setLocalStorage = notes => {\n  localStorage.setItem(\"notes\", JSON.stringify(notes));\n};\nexport const getNotesAsync = createAsyncThunk(\"notes/getNotesAsync\", async () => {\n  const res = await axios(`${localHost}/notes`);\n  return res.data;\n});\nexport const addNoteAsync = createAsyncThunk(\"notes/addNoteAsync\", async data => {\n  const res = await axios.post(`${localHost}/notes`, data);\n  return res.data;\n});\nexport const deleteNoteAsync = createAsyncThunk(\"notes/deleteNoteAsync\", async id => {\n  await axios.delete(`${localHost}/notes/${id}`);\n  return id;\n});\nexport const editNoteAsync = createAsyncThunk(\"notes/editNoteAsync\", async data => {\n  const res = await axios.put(`${localHost}/notes/${data.id}`, data);\n  return res.data;\n});\nexport const noteSlice = createSlice({\n  name: \"note\",\n  initialState: {\n    notes: [...getLocalStorage()],\n    search: \"\",\n    currentNote: []\n  },\n  reducers: {\n    searchNote: (state, actions) => {\n      state.search = actions.payload;\n    },\n    onClickNote: (state, actions) => {\n      state.currentNote = actions.payload;\n    }\n  },\n  extraReducers(builder) {\n    builder.addCase(getNotesAsync.fulfilled, (state, actions) => {\n      state.notes = actions.payload;\n    });\n    builder.addCase(addNoteAsync.fulfilled, (state, actions) => {\n      const item = state.notes.find(note => note.value === actions.payload.value);\n      if (item) {\n        return console.log(\"aynisindan var kardeş\");\n      } else {\n        state.notes.push(actions.payload);\n        setLocalStorage(state.notes);\n      }\n    });\n    builder.addCase(deleteNoteAsync.fulfilled, (state, actions) => {\n      const id = actions.payload;\n      state.notes = state.notes.filter(note => note.id !== id);\n      setLocalStorage(state.notes);\n    });\n    builder.addCase(editNoteAsync.fulfilled, (state, action) => {\n      state.notes.find(item => item.id === state.currentNote.id ? item.value = action.payload.value : \"\");\n      setLocalStorage(state.notes);\n    });\n  }\n});\nexport const filtered = state => {\n  return state.notes.notes.filter(item => item.value.toLocaleLowerCase().includes(state.notes.search));\n};\nexport const {\n  addNote,\n  searchNote,\n  onClickNote\n} = noteSlice.actions;\nexport default noteSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","localHost","process","env","REACT_APP_LOCAL_HOST","getLocalStorage","notes","localStorage","getItem","JSON","parse","setLocalStorage","setItem","stringify","getNotesAsync","res","data","addNoteAsync","post","deleteNoteAsync","id","delete","editNoteAsync","put","noteSlice","name","initialState","search","currentNote","reducers","searchNote","state","actions","payload","onClickNote","extraReducers","builder","addCase","fulfilled","item","find","note","value","console","log","push","filter","action","filtered","toLocaleLowerCase","includes","addNote","reducer"],"sources":["C:/Users/DELL/Desktop/react-notesApp/client/src/redux/NoteReducer.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nconst localHost = process.env.REACT_APP_LOCAL_HOST;\r\n\r\nexport const getLocalStorage = () => {\r\n  const notes = localStorage.getItem(\"notes\");\r\n  return notes ? JSON.parse(notes) : [];\r\n};\r\nexport const setLocalStorage = (notes) => {\r\n  localStorage.setItem(\"notes\", JSON.stringify(notes));\r\n};\r\n\r\nexport const getNotesAsync = createAsyncThunk(\r\n  \"notes/getNotesAsync\",\r\n  async () => {\r\n    const res = await axios(`${localHost}/notes`);\r\n    return res.data;\r\n  }\r\n);\r\nexport const addNoteAsync = createAsyncThunk(\r\n  \"notes/addNoteAsync\",\r\n  async (data) => {\r\n    const res = await axios.post(`${localHost}/notes`, data);\r\n    return res.data;\r\n  }\r\n);\r\nexport const deleteNoteAsync = createAsyncThunk(\r\n  \"notes/deleteNoteAsync\",\r\n  async (id) => {\r\n    await axios.delete(`${localHost}/notes/${id}`);\r\n    return id;\r\n  }\r\n);\r\nexport const editNoteAsync = createAsyncThunk(\r\n  \"notes/editNoteAsync\",\r\n  async (data) => {\r\n    const res = await axios.put(`${localHost}/notes/${data.id}`, data);\r\n    return res.data;\r\n  }\r\n);\r\n\r\nexport const noteSlice = createSlice({\r\n  name: \"note\",\r\n  initialState: {\r\n    notes: [...getLocalStorage()],\r\n    search: \"\",\r\n    currentNote: [],\r\n  },\r\n\r\n  reducers: {\r\n    searchNote: (state, actions) => {\r\n      state.search = actions.payload;\r\n    },\r\n    onClickNote: (state, actions) => {\r\n      state.currentNote = actions.payload;\r\n    },\r\n  },\r\n  extraReducers(builder) {\r\n    builder.addCase(getNotesAsync.fulfilled, (state, actions) => {\r\n      state.notes = actions.payload;\r\n    });\r\n    builder.addCase(addNoteAsync.fulfilled, (state, actions) => {\r\n      const item = state.notes.find(\r\n        (note) => note.value === actions.payload.value\r\n      );\r\n      if (item) {\r\n        return console.log(\"aynisindan var kardeş\");\r\n      } else {\r\n        state.notes.push(actions.payload);\r\n        setLocalStorage(state.notes);\r\n      }\r\n    });\r\n    builder.addCase(deleteNoteAsync.fulfilled, (state, actions) => {\r\n      const id = actions.payload;\r\n      state.notes = state.notes.filter((note) => note.id !== id);\r\n      setLocalStorage(state.notes);\r\n    });\r\n\r\n    builder.addCase(editNoteAsync.fulfilled, (state, action) => {\r\n      state.notes.find((item) =>\r\n        item.id === state.currentNote.id\r\n          ? (item.value = action.payload.value)\r\n          : \"\"\r\n      );\r\n      setLocalStorage(state.notes);\r\n    });\r\n  },\r\n});\r\n\r\nexport const filtered = (state) => {\r\n  return state.notes.notes.filter((item) =>\r\n    item.value.toLocaleLowerCase().includes(state.notes.search)\r\n  );\r\n};\r\n\r\nexport const { addNote, searchNote, onClickNote } = noteSlice.actions;\r\n\r\nexport default noteSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}