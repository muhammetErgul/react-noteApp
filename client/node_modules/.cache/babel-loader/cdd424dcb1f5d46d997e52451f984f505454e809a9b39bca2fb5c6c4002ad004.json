{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst localHost = process.env.REACT_APP_LOCAL_HOST;\nexport const getNotesAsync = createAsyncThunk(\"notes/getNotesAsync\", async () => {\n  const res = await axios(`${localHost}/notes`);\n  return res.data;\n});\nexport const addNoteAsync = createAsyncThunk(\"notes/addNoteAsync\", async data => {\n  const res = await axios.post(`${localHost}/notes`, data);\n  return res.data;\n});\nexport const deleteNoteAsync = createAsyncThunk(\"notes/deleteNoteAsync\", async id => {\n  await axios.delete(`${localHost}/notes/${id}`);\n  return id;\n});\nexport const noteSlice = createSlice({\n  name: \"note\",\n  initialState: {\n    notes: JSON.parse(localStorage.getItem(\"notes\")) || [],\n    search: \"\",\n    currentNote: []\n  },\n  reducers: {\n    searchNote: (state, actions) => {\n      state.search = actions.payload;\n    },\n    onClickNote: (state, actions) => {\n      state.currentNote = actions.payload;\n    },\n    editNote: (state, action) => {\n      state.notes.find(item => item.id === state.currentNote.id ? item.value = action.payload : \"\");\n    },\n    deleteNote: state => {\n      state.notes = state.notes.filter(item => item.id !== state.currentNote.id);\n    }\n  },\n  extraReducers(builder) {\n    builder.addCase(getNotesAsync.fulfilled, (state, actions) => {\n      state.notes = actions.payload;\n    });\n    builder.addCase(addNoteAsync.fulfilled, (state, actions) => {\n      const item = state.notes.find(note => note.value === actions.payload.value);\n      if (item) {\n        return console.log(\"aynisindan var kardeş\");\n      } else {\n        state.notes.push(actions.payload);\n        localStorage.setItem(\"notes\", JSON.stringify(state.notes));\n      }\n    });\n    builder.addCase(deleteNoteAsync.fulfilled, (state, actions) => {\n      const id = actions.payload;\n      state.notes = state.notes.filter(note => note.id !== id);\n    });\n  }\n});\nexport const filtered = state => {\n  return state.notes.notes.filter(item => item.value.toLocaleLowerCase().includes(state.notes.search));\n};\nexport const {\n  addNote,\n  searchNote,\n  onClickNote,\n  editNote,\n  deleteNote\n} = noteSlice.actions;\nexport default noteSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","localHost","process","env","REACT_APP_LOCAL_HOST","getNotesAsync","res","data","addNoteAsync","post","deleteNoteAsync","id","delete","noteSlice","name","initialState","notes","JSON","parse","localStorage","getItem","search","currentNote","reducers","searchNote","state","actions","payload","onClickNote","editNote","action","find","item","value","deleteNote","filter","extraReducers","builder","addCase","fulfilled","note","console","log","push","setItem","stringify","filtered","toLocaleLowerCase","includes","addNote","reducer"],"sources":["C:/Users/DELL/Desktop/react-notesApp/client/src/redux/NoteReducer.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nconst localHost = process.env.REACT_APP_LOCAL_HOST;\r\n\r\nexport const getNotesAsync = createAsyncThunk(\r\n  \"notes/getNotesAsync\",\r\n  async () => {\r\n    const res = await axios(`${localHost}/notes`);\r\n    return res.data;\r\n  }\r\n);\r\nexport const addNoteAsync = createAsyncThunk(\r\n  \"notes/addNoteAsync\",\r\n  async (data) => {\r\n    const res = await axios.post(`${localHost}/notes`, data);\r\n    return res.data;\r\n  }\r\n);\r\nexport const deleteNoteAsync = createAsyncThunk(\r\n  \"notes/deleteNoteAsync\",\r\n  async (id) => {\r\n    await axios.delete(`${localHost}/notes/${id}`);\r\n    return id;\r\n  }\r\n);\r\nexport const noteSlice = createSlice({\r\n  name: \"note\",\r\n  initialState: {\r\n    notes: JSON.parse(localStorage.getItem(\"notes\")) || [],\r\n    search: \"\",\r\n    currentNote: [],\r\n  },\r\n\r\n  reducers: {\r\n    searchNote: (state, actions) => {\r\n      state.search = actions.payload;\r\n    },\r\n    onClickNote: (state, actions) => {\r\n      state.currentNote = actions.payload;\r\n    },\r\n    editNote: (state, action) => {\r\n      state.notes.find((item) =>\r\n        item.id === state.currentNote.id ? (item.value = action.payload) : \"\"\r\n      );\r\n    },\r\n    deleteNote: (state) => {\r\n      state.notes = state.notes.filter(\r\n        (item) => item.id !== state.currentNote.id\r\n      );\r\n    },\r\n  },\r\n  extraReducers(builder) {\r\n    builder.addCase(getNotesAsync.fulfilled, (state, actions) => {\r\n      state.notes = actions.payload;\r\n    });\r\n    builder.addCase(addNoteAsync.fulfilled, (state, actions) => {\r\n      const item = state.notes.find(\r\n        (note) => note.value === actions.payload.value\r\n      );\r\n      if (item) {\r\n        return console.log(\"aynisindan var kardeş\");\r\n      } else {\r\n        state.notes.push(actions.payload);\r\n        localStorage.setItem(\"notes\", JSON.stringify(state.notes));\r\n      }\r\n    });\r\n    builder.addCase(deleteNoteAsync.fulfilled, (state, actions) => {\r\n      const id = actions.payload;\r\n      state.notes = state.notes.filter((note) => note.id !== id);\r\n    });\r\n  },\r\n});\r\n\r\nexport const filtered = (state) => {\r\n  return state.notes.notes.filter((item) =>\r\n    item.value.toLocaleLowerCase().includes(state.notes.search)\r\n  );\r\n};\r\n\r\nexport const { addNote, searchNote, onClickNote, editNote, deleteNote } =\r\n  noteSlice.actions;\r\n\r\nexport default noteSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}