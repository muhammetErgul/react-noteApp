{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst localHost = process.env.REACT_APP_LOCAL_HOST;\nexport const getNotesAsync = createAsyncThunk(\"notes/getNotesAsync\", async () => {\n  const res = await axios(`${localHost}/notes`);\n  return res.data;\n});\nexport const addNoteAsync = createAsyncThunk(\"notes/addNoteAsync\", async data => {\n  const res = await axios.post(`${localHost}/notes`, data);\n  return res.data;\n});\nexport const deleteNoteAsync = createAsyncThunk(\"notes/deleteNoteAsync\", async id => {\n  await axios.delete(`${localHost}/notes/${id}`);\n  return id;\n});\nexport const noteSlice = createSlice({\n  name: \"note\",\n  initialState: {\n    notes: JSON.parse(localStorage.getItem(\"notes\")) || [],\n    search: \"\"\n  },\n  reducers: {\n    searchNote: (state, actions) => {\n      state.search = actions.payload;\n    }\n  },\n  extraReducers(builder) {\n    builder.addCase(getNotesAsync.fulfilled, (state, actions) => {\n      state.notes = actions.payload;\n    });\n    builder.addCase(addNoteAsync.fulfilled, (state, actions) => {\n      const item = state.notes.find(note => note.value === actions.payload.value);\n      if (item) {\n        return console.log(\"aynisindan var kardeş\");\n      } else {\n        state.notes.push(actions.payload);\n        localStorage.setItem(\"notes\", JSON.stringify(state.notes));\n      }\n    });\n    builder.addCase(deleteNoteAsync.fulfilled, (state, actions) => {\n      const id = actions.payload;\n      state.notes = state.notes.filter(note => note.id !== id);\n    });\n  }\n});\nexport const filtered = state => {\n  return state.notes.notes.filter(item => item.value.toLocaleLowerCase().includes(state.notes.search));\n};\nexport const {\n  addNote,\n  searchNote\n} = noteSlice.actions;\nexport default noteSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","localHost","process","env","REACT_APP_LOCAL_HOST","getNotesAsync","res","data","addNoteAsync","post","deleteNoteAsync","id","delete","noteSlice","name","initialState","notes","JSON","parse","localStorage","getItem","search","reducers","searchNote","state","actions","payload","extraReducers","builder","addCase","fulfilled","item","find","note","value","console","log","push","setItem","stringify","filter","filtered","toLocaleLowerCase","includes","addNote","reducer"],"sources":["C:/Users/DELL/Desktop/react-notesApp/client/src/redux/NoteReducer.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nconst localHost = process.env.REACT_APP_LOCAL_HOST;\r\n\r\nexport const getNotesAsync = createAsyncThunk(\r\n  \"notes/getNotesAsync\",\r\n  async () => {\r\n    const res = await axios(`${localHost}/notes`);\r\n    return res.data;\r\n  }\r\n);\r\nexport const addNoteAsync = createAsyncThunk(\r\n  \"notes/addNoteAsync\",\r\n  async (data) => {\r\n    const res = await axios.post(`${localHost}/notes`, data);\r\n    return res.data;\r\n  }\r\n);\r\nexport const deleteNoteAsync = createAsyncThunk(\r\n  \"notes/deleteNoteAsync\",\r\n  async (id) => {\r\n    await axios.delete(`${localHost}/notes/${id}`);\r\n    return id;\r\n  }\r\n);\r\nexport const noteSlice = createSlice({\r\n  name: \"note\",\r\n  initialState: {\r\n    notes: JSON.parse(localStorage.getItem(\"notes\")) || [],\r\n    search: \"\",\r\n  },\r\n\r\n  reducers: {\r\n    searchNote: (state, actions) => {\r\n      state.search = actions.payload;\r\n    },\r\n  },\r\n  extraReducers(builder) {\r\n    builder.addCase(getNotesAsync.fulfilled, (state, actions) => {\r\n      state.notes = actions.payload;\r\n    });\r\n    builder.addCase(addNoteAsync.fulfilled, (state, actions) => {\r\n      const item = state.notes.find(\r\n        (note) => note.value === actions.payload.value\r\n      );\r\n      if (item) {\r\n        return console.log(\"aynisindan var kardeş\");\r\n      } else {\r\n        state.notes.push(actions.payload);\r\n        localStorage.setItem(\"notes\", JSON.stringify(state.notes));\r\n      }\r\n    });\r\n    builder.addCase(deleteNoteAsync.fulfilled, (state, actions) => {\r\n      const id = actions.payload;\r\n      state.notes = state.notes.filter((note) => note.id !== id);\r\n    });\r\n  },\r\n});\r\n\r\nexport const filtered = (state) => {\r\n  return state.notes.notes.filter((item) =>\r\n    item.value.toLocaleLowerCase().includes(state.notes.search)\r\n  );\r\n};\r\n\r\nexport const { addNote, searchNote } = noteSlice.actions;\r\n\r\nexport default noteSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}