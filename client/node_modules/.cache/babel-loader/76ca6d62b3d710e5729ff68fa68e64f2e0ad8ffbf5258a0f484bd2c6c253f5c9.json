{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst localHost = process.env.REACT_APP_LOCAL_HOST;\nexport const getNotesAsync = createAsyncThunk(\"notes/getNotesAsync\", async () => {\n  const res = await axios(`${localHost}/notes`);\n  return res.data;\n});\nexport const addNoteAsync = createAsyncThunk(\"notes/addNoteAsync\", async data => {\n  const res = await axios.post(`${localHost}/notes`, data);\n  return res.data;\n});\nexport const deleteNoteAsync = createAsyncThunk(\"notes/deleteNoteAsync\", async id => {\n  await axios.delete(`${localHost}/notes/${id}`);\n  return id;\n});\nexport const editNoteAsync = createAsyncThunk(\"notes/editNoteAsync\", async data => {\n  await axios.patch(`${localHost}/notes/${data.id}`);\n  return data.value;\n});\nexport const getLocalStorage = () => {\n  const notes = JSON.parse(localStorage.getItem(\"notes\")) || [];\n  return notes;\n};\nexport const setLocalStorage = notes => {\n  localStorage.setItem(\"notes\", JSON.stringify(notes));\n};\nexport const noteSlice = createSlice({\n  name: \"note\",\n  initialState: {\n    notes: [...getLocalStorage()],\n    search: \"\",\n    currentNote: []\n  },\n  reducers: {\n    searchNote: (state, actions) => {\n      state.search = actions.payload;\n    },\n    onClickNote: (state, actions) => {\n      state.currentNote = actions.payload;\n    }\n  },\n  extraReducers(builder) {\n    builder.addCase(getNotesAsync.fulfilled, (state, actions) => {\n      state.notes = actions.payload;\n    });\n    builder.addCase(addNoteAsync.fulfilled, (state, actions) => {\n      const item = state.notes.find(note => note.value === actions.payload.value);\n      if (item) {\n        return console.log(\"aynisindan var kardeş\");\n      } else {\n        state.notes.push(actions.payload);\n        setLocalStorage(state.notes);\n      }\n    });\n    builder.addCase(deleteNoteAsync.fulfilled, (state, actions) => {\n      const id = actions.payload;\n      state.notes = state.notes.filter(note => note.id !== id);\n    });\n    builder.addCase(editNoteAsync, (state, action) => {\n      state.notes.find(item => item.id === state.currentNote.id ? item.value = action.payload : \"\");\n      setLocalStorage(state.notes);\n    });\n  }\n});\nexport const filtered = state => {\n  return state.notes.notes.filter(item => item.value.toLocaleLowerCase().includes(state.notes.search));\n};\nexport const {\n  addNote,\n  searchNote,\n  onClickNote\n} = noteSlice.actions;\nexport default noteSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","localHost","process","env","REACT_APP_LOCAL_HOST","getNotesAsync","res","data","addNoteAsync","post","deleteNoteAsync","id","delete","editNoteAsync","patch","value","getLocalStorage","notes","JSON","parse","localStorage","getItem","setLocalStorage","setItem","stringify","noteSlice","name","initialState","search","currentNote","reducers","searchNote","state","actions","payload","onClickNote","extraReducers","builder","addCase","fulfilled","item","find","note","console","log","push","filter","action","filtered","toLocaleLowerCase","includes","addNote","reducer"],"sources":["C:/Users/DELL/Desktop/react-notesApp/client/src/redux/NoteReducer.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nconst localHost = process.env.REACT_APP_LOCAL_HOST;\r\n\r\nexport const getNotesAsync = createAsyncThunk(\r\n  \"notes/getNotesAsync\",\r\n  async () => {\r\n    const res = await axios(`${localHost}/notes`);\r\n    return res.data;\r\n  }\r\n);\r\nexport const addNoteAsync = createAsyncThunk(\r\n  \"notes/addNoteAsync\",\r\n  async (data) => {\r\n    const res = await axios.post(`${localHost}/notes`, data);\r\n    return res.data;\r\n  }\r\n);\r\nexport const deleteNoteAsync = createAsyncThunk(\r\n  \"notes/deleteNoteAsync\",\r\n  async (id) => {\r\n    await axios.delete(`${localHost}/notes/${id}`);\r\n    return id;\r\n  }\r\n);\r\nexport const editNoteAsync = createAsyncThunk(\r\n  \"notes/editNoteAsync\",\r\n  async (data) => {\r\n    await axios.patch(`${localHost}/notes/${data.id}`);\r\n    return data.value;\r\n  }\r\n);\r\n\r\nexport const getLocalStorage = () => {\r\n  const notes = JSON.parse(localStorage.getItem(\"notes\")) || [];\r\n  return notes;\r\n};\r\nexport const setLocalStorage = (notes) => {\r\n  localStorage.setItem(\"notes\", JSON.stringify(notes));\r\n};\r\n\r\nexport const noteSlice = createSlice({\r\n  name: \"note\",\r\n  initialState: {\r\n    notes: [...getLocalStorage()],\r\n    search: \"\",\r\n    currentNote: [],\r\n  },\r\n\r\n  reducers: {\r\n    searchNote: (state, actions) => {\r\n      state.search = actions.payload;\r\n    },\r\n    onClickNote: (state, actions) => {\r\n      state.currentNote = actions.payload;\r\n    },\r\n  },\r\n  extraReducers(builder) {\r\n    builder.addCase(getNotesAsync.fulfilled, (state, actions) => {\r\n      state.notes = actions.payload;\r\n    });\r\n    builder.addCase(addNoteAsync.fulfilled, (state, actions) => {\r\n      const item = state.notes.find(\r\n        (note) => note.value === actions.payload.value\r\n      );\r\n      if (item) {\r\n        return console.log(\"aynisindan var kardeş\");\r\n      } else {\r\n        state.notes.push(actions.payload);\r\n        setLocalStorage(state.notes);\r\n      }\r\n    });\r\n    builder.addCase(deleteNoteAsync.fulfilled, (state, actions) => {\r\n      const id = actions.payload;\r\n      state.notes = state.notes.filter((note) => note.id !== id);\r\n    });\r\n    builder.addCase(editNoteAsync, (state, action) => {\r\n      state.notes.find((item) =>\r\n        item.id === state.currentNote.id ? (item.value = action.payload) : \"\"\r\n      );\r\n      setLocalStorage(state.notes);\r\n    });\r\n  },\r\n});\r\n\r\nexport const filtered = (state) => {\r\n  return state.notes.notes.filter((item) =>\r\n    item.value.toLocaleLowerCase().includes(state.notes.search)\r\n  );\r\n};\r\n\r\nexport const { addNote, searchNote, onClickNote } = noteSlice.actions;\r\n\r\nexport default noteSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}