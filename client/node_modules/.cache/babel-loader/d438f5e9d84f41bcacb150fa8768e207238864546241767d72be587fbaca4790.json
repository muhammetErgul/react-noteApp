{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst localHost = process.env.REACT_APP_LOCAL_HOST;\nexport const getNotesAsync = createAsyncThunk(\"notes/getNotesAsync\", async () => {\n  const res = await axios(`${localHost}/notes`);\n  return res.data;\n});\nexport const addNoteAsync = createAsyncThunk(\"notes/addNoteAsync\", async data => {\n  const res = await axios.post(`${localHost}/notes`, data);\n  return res.data;\n});\nexport const deleteNoteAsync = createAsyncThunk(\"notes/deleteNoteAsync\", async id => {\n  await axios.delete(`${localHost}/notes/${id}`);\n  return id;\n});\nexport const editNoteAsync = createAsyncThunk(\"notes/editNoteAsync\", async _ref => {\n  let {\n    value,\n    id\n  } = _ref;\n  await axios.put(`${localHost}/notes/${id}`);\n  return value;\n});\nexport const noteSlice = createSlice({\n  name: \"note\",\n  initialState: {\n    notes: JSON.parse(localStorage.getItem(\"notes\")) || [],\n    search: \"\",\n    currentNote: []\n  },\n  reducers: {\n    searchNote: (state, actions) => {\n      state.search = actions.payload;\n    },\n    onClickNote: (state, actions) => {\n      state.currentNote = actions.payload;\n    }\n  },\n  extraReducers(builder) {\n    builder.addCase(getNotesAsync.fulfilled, (state, actions) => {\n      state.notes = actions.payload;\n    });\n    builder.addCase(addNoteAsync.fulfilled, (state, actions) => {\n      const item = state.notes.find(note => note.value === actions.payload.value);\n      if (item) {\n        return console.log(\"aynisindan var kardeş\");\n      } else {\n        state.notes.push(actions.payload);\n        localStorage.setItem(\"notes\", JSON.stringify(state.notes));\n      }\n    });\n    builder.addCase(deleteNoteAsync.fulfilled, (state, actions) => {\n      const id = actions.payload;\n      state.notes = state.notes.filter(note => note.id !== id);\n    });\n    builder.addCase(editNoteAsync.fulfilled, (state, action) => {\n      state.notes.find(item => item.id === state.currentNote.id ? item.value = action.payload : \"\");\n    });\n  }\n});\nexport const filtered = state => {\n  return state.notes.notes.filter(item => item.value.toLocaleLowerCase().contains(state.notes.search));\n};\nexport const {\n  addNote,\n  searchNote,\n  onClickNote\n} = noteSlice.actions;\nexport default noteSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","localHost","process","env","REACT_APP_LOCAL_HOST","getNotesAsync","res","data","addNoteAsync","post","deleteNoteAsync","id","delete","editNoteAsync","_ref","value","put","noteSlice","name","initialState","notes","JSON","parse","localStorage","getItem","search","currentNote","reducers","searchNote","state","actions","payload","onClickNote","extraReducers","builder","addCase","fulfilled","item","find","note","console","log","push","setItem","stringify","filter","action","filtered","toLocaleLowerCase","contains","addNote","reducer"],"sources":["C:/Users/DELL/Desktop/react-notesApp/client/src/redux/NoteReducer.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nconst localHost = process.env.REACT_APP_LOCAL_HOST;\r\n\r\nexport const getNotesAsync = createAsyncThunk(\r\n  \"notes/getNotesAsync\",\r\n  async () => {\r\n    const res = await axios(`${localHost}/notes`);\r\n    return res.data;\r\n  }\r\n);\r\nexport const addNoteAsync = createAsyncThunk(\r\n  \"notes/addNoteAsync\",\r\n  async (data) => {\r\n    const res = await axios.post(`${localHost}/notes`, data);\r\n    return res.data;\r\n  }\r\n);\r\nexport const deleteNoteAsync = createAsyncThunk(\r\n  \"notes/deleteNoteAsync\",\r\n  async (id) => {\r\n    await axios.delete(`${localHost}/notes/${id}`);\r\n    return id;\r\n  }\r\n);\r\nexport const editNoteAsync = createAsyncThunk(\r\n  \"notes/editNoteAsync\",\r\n  async ({ value, id }) => {\r\n    await axios.put(`${localHost}/notes/${id}`);\r\n    return value;\r\n  }\r\n);\r\n\r\nexport const noteSlice = createSlice({\r\n  name: \"note\",\r\n  initialState: {\r\n    notes: JSON.parse(localStorage.getItem(\"notes\")) || [],\r\n    search: \"\",\r\n    currentNote: [],\r\n  },\r\n\r\n  reducers: {\r\n    searchNote: (state, actions) => {\r\n      state.search = actions.payload;\r\n    },\r\n    onClickNote: (state, actions) => {\r\n      state.currentNote = actions.payload;\r\n    },\r\n  },\r\n  extraReducers(builder) {\r\n    builder.addCase(getNotesAsync.fulfilled, (state, actions) => {\r\n      state.notes = actions.payload;\r\n    });\r\n    builder.addCase(addNoteAsync.fulfilled, (state, actions) => {\r\n      const item = state.notes.find(\r\n        (note) => note.value === actions.payload.value\r\n      );\r\n      if (item) {\r\n        return console.log(\"aynisindan var kardeş\");\r\n      } else {\r\n        state.notes.push(actions.payload);\r\n        localStorage.setItem(\"notes\", JSON.stringify(state.notes));\r\n      }\r\n    });\r\n    builder.addCase(deleteNoteAsync.fulfilled, (state, actions) => {\r\n      const id = actions.payload;\r\n      state.notes = state.notes.filter((note) => note.id !== id);\r\n    });\r\n    builder.addCase(editNoteAsync.fulfilled, (state, action) => {\r\n      state.notes.find((item) =>\r\n        item.id === state.currentNote.id ? (item.value = action.payload) : \"\"\r\n      );\r\n    });\r\n  },\r\n});\r\n\r\nexport const filtered = (state) => {\r\n  return state.notes.notes.filter((item) =>\r\n    item.value.toLocaleLowerCase().contains(state.notes.search)\r\n  );\r\n};\r\n\r\nexport const { addNote, searchNote, onClickNote } = noteSlice.actions;\r\n\r\nexport default noteSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}